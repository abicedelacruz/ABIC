{% extends 'base.html' %}
{% block content %}
<h2 class="text-xl font-semibold">Generate Payroll - {{ emp['name'] }}</h2>
<div class="bg-white p-4 rounded shadow mt-4">
  <form method="post" class="grid grid-cols-1 gap-3">
    <div>
      <label class="block font-medium">Cut-off start date</label>
      <input name="start_date" type="date" value="{{ last_inputs.get('cutoff_start', '') }}" class="p-2 border rounded w-full" required>
    </div>
    <div>
      <label class="block font-medium">Cut-off end date</label>
      <input name="end_date" type="date" value="{{ last_inputs.get('cutoff_end', '') }}" class="p-2 border rounded w-full" required>
    </div>

    <div class="pt-2">
      <label class="font-medium block">Deductions to apply for this cut-off</label>
      <label class="inline-flex items-center mr-4"><input type="checkbox" name="apply_sss" checked> <span class="ml-2">SSS (5%)</span></label>
      <label class="inline-flex items-center mr-4"><input type="checkbox" name="apply_phil" checked> <span class="ml-2">PhilHealth (2.5%)</span></label>
      <label class="inline-flex items-center"><input type="checkbox" name="apply_pagibig" checked> <span class="ml-2">Pag-IBIG (â‚±200)</span></label>
    </div>

    <hr class="my-2">

    <p class="text-sm text-gray-700">Computed hours will be automatically calculated from timecards in the selected cut-off. You may optionally override or add values below (incentives, loans, special holiday hours, tardiness etc.).</p>

    <div>
      <label>Incentives (optional)</label>
      <input name="incentives" type="number" step="0.01" value="{{ last_inputs.get('incentives','') }}" class="p-2 border rounded w-full">
    </div>

    <div>
      <label>SSS Loan (optional)</label>
      <input name="sss_loan" type="number" step="0.01" value="{{ last_inputs.get('sss_loan','') }}" class="p-2 border rounded w-full">
    </div>

    <div>
      <label>PAGIBIG Loan (optional)</label>
      <input name="pagibig_loan" type="number" step="0.01" value="{{ last_inputs.get('pagibig_loan','') }}" class="p-2 border rounded w-full">
    </div>

    <div>
      <label>Tardiness hours (override, optional)</label>
      <input name="tardiness_hours" type="number" step="0.01" value="{{ last_inputs.get('tardiness_hours','') }}" class="p-2 border rounded w-full">
    </div>

    <div>
      <label>Undertime hours (override, optional)</label>
      <input name="undertime_hours" type="number" step="0.01" value="{{ last_inputs.get('undertime_hours','') }}" class="p-2 border rounded w-full">
    </div>

    <div>
      <label>Special holiday hours (optional)</label>
      <input name="special_hol_hours" type="number" step="0.01" value="{{ last_inputs.get('special_hol_hours','') }}" class="p-2 border rounded w-full">
    </div>

    <div>
      <label>Special holiday RD hours (optional)</label>
      <input name="special_hol_rd_hours" type="number" step="0.01" value="{{ last_inputs.get('special_hol_rd_hours','') }}" class="p-2 border rounded w-full">
    </div>

    <div>
      <label>Regular holiday hours (optional)</label>
      <input name="regular_hol_hours" type="number" step="0.01" value="{{ last_inputs.get('regular_hol_hours','') }}" class="p-2 border rounded w-full">
    </div>

    <div>
      <label>Regular holiday OT hours (optional)</label>
      <input name="regular_hol_ot_hours" type="number" step="0.01" value="{{ last_inputs.get('regular_hol_ot_hours','') }}" class="p-2 border rounded w-full">
    </div>

    <div class="pt-2">
      <button class="py-2 bg-blue-600 text-white rounded">Generate & Save Payroll</button>
    </div>
  </form>
</div>
{% endblock %}
